---
main:
  messages:
  - we'll finally add <audio> to our emulator! ðŸ”Š
  - it's not as intuitive as <video>, so I'll have to explain a few things first
  responses:
  - how does it work? [how]

how:
  messages:
  - ðŸŒŠ  <audio> works by defining waves that directly match what the speakers do
  - ðŸŽµ  when a speaker vibrates at a particular frequency, it creates a note
  - ðŸ“ˆ  since time is a <continuous unit>, computers store waves as a stream of samples, which are numbers that define the height of the wave at a certain point in time
  - ðŸ”¢  in the NEEES, samples are numbers in the ~0-15~ range, and when emulating the APU, we feed 44100 samples per second to the sound card
  - that's called the sample rate
  responses:
  - (*) how does a wave look? [wave]
  - how does the APU generate samples? [samples]

wave:
  messages:
  - it looks... <periodical>!
  - <{wave_square.png}>
  - this is a <max-volume> square wave, a common waveform used by the APU
  - the period indicates the time it takes to complete a full repetition
  - "`period = 1 / frequency`, so lower periods make higher pitch notes"
  - more amplitude means more volume
  - and like I said, these are stored like a stream of samples
  - here's a more complex wave
  - <{wave.png}>
  - you can observe here how we can store the waveform as a <sequence of points>
  - the samples!
  responses:
  - alright, but how do these waves sound? [sound]

sound:
  messages:
  - dunno
  responses:
  - ...how

samples:
  messages:
  - like the CPU and PPU, the APU works with cycles ðŸš²
  - a cycle is the smallest time unit, corresponding to one clock tick during which it updates its internal state by one step
  - the ðŸ”Š  APU runs <2x> slower than the ðŸ§   CPU
  - so APU cycles are slower (each APU cycle is, in time, ~twice as long~ as a CPU cycle)
  - <{unit_speeds.png}>
  responses:
  - how do we start? [start]

start:
  messages:
  - asd
  responses: []
